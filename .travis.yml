sudo: required
services:
  - docker
language: python
python:
  - "3.5"

install:
  - pip install codecov tox

script:
  - tox -e py35
  - docker run -v $(pwd):$(pwd) -t ubuntu:xenial sh -c "apt update && apt install -y snapcraft && cd $(pwd) && snapcraft"

after_success:
  - codecov --env TRAVIS_PYTHON_VERSION

branches:
  only:
    - master
